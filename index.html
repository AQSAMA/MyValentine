<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine?</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@500;700&family=Fraunces:opsz,wght@9..144,600;9..144,700&display=swap');

    :root {
      --bg: #160b19;
      --card: rgba(255, 239, 252, 0.1);
      --text: #ffeef6;
      --accent: #ff5e9d;
      --accent-2: #ffd166;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 1.25rem;
      font-family: 'Fraunces', serif;
      color: var(--text);
      background:
        radial-gradient(circle at 20% 20%, #582a63 0%, transparent 40%),
        radial-gradient(circle at 80% 10%, #2f4f87 0%, transparent 32%),
        radial-gradient(circle at 70% 75%, #803d67 0%, transparent 36%),
        var(--bg);
      overflow-x: hidden;
    }

    .lang-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      display: inline-flex;
      gap: 0.35rem;
      border: 1px solid rgba(255,255,255,0.25);
      border-radius: 999px;
      padding: 0.25rem;
      backdrop-filter: blur(6px);
      background: rgba(8, 5, 14, 0.45);
    }

    .lang-toggle button {
      border: 0;
      border-radius: 999px;
      background: transparent;
      color: #f9d8e9;
      padding: 0.32rem 0.78rem;
      font: 600 0.82rem/1 'Cairo', sans-serif;
      cursor: pointer;
    }

    .lang-toggle button.active {
      background: #f8d2e7;
      color: #2e1228;
    }

    .card {
      width: min(680px, 100%);
      border: 1px solid rgba(255,255,255,0.22);
      border-radius: 1.25rem;
      padding: 2rem 1.25rem 1.5rem;
      background: var(--card);
      box-shadow: 0 16px 40px rgba(12, 2, 17, 0.36);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    h1 {
      margin: 0;
      font-size: clamp(1.95rem, 5vw, 3rem);
      letter-spacing: 0.02em;
    }

    p {
      margin: 0.8rem auto 1.5rem;
      max-width: 34ch;
      font-family: 'Cairo', sans-serif;
      line-height: 1.5;
      color: #ffdff0;
    }

    .actions {
      position: relative;
      min-height: 70px;
      display: flex;
      gap: 0.75rem;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
    }

    button.choice {
      border: 0;
      border-radius: 999px;
      padding: 0.7rem 1.35rem;
      cursor: pointer;
      transition: transform .2s ease, opacity .2s ease;
      font: 700 1rem/1 'Cairo', sans-serif;
    }

    #yesBtn {
      background: linear-gradient(120deg, var(--accent), #ff8bc0);
      color: white;
      box-shadow: 0 8px 20px rgba(255, 94, 157, 0.35);
    }

    #noBtn {
      background: rgba(255,255,255,0.2);
      color: #fff5fb;
      border: 1px solid rgba(255,255,255,0.28);
      position: relative;
    }

    .result {
      margin-top: 1rem;
      display: none;
      animation: pop .35s ease;
    }

    .result img {
      width: min(320px, 92%);
      border-radius: 1rem;
      border: 2px solid rgba(255, 255, 255, 0.4);
      box-shadow: 0 10px 28px rgba(0,0,0,0.28);
    }

    .result strong {
      display: block;
      font-size: clamp(1.25rem, 4vw, 1.8rem);
      margin-bottom: 0.65rem;
      color: var(--accent-2);
    }

    @keyframes pop {
      from { opacity: 0; transform: translateY(8px) scale(0.97); }
      to { opacity: 1; transform: translateY(0) scale(1); }
    }
  </style>
</head>
<body>
  <div class="lang-toggle" role="group" aria-label="Language switcher">
    <button id="enBtn" class="active" type="button">EN</button>
    <button id="arBtn" type="button">AR</button>
  </div>

  <main class="card">
    <h1 id="title"></h1>
    <p id="subtitle"></p>

    <div class="actions" id="actions">
      <button class="choice" id="yesBtn" type="button"></button>
      <button class="choice" id="noBtn" type="button"></button>
    </div>

    <div class="result" id="result" aria-live="polite">
      <strong id="resultTitle"></strong>
      <!-- Replace src below with your preferred GIF -->
      <img id="resultGif" src="https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExdjR4OGQzMG91dWR3OXQ5N3MyN3E2Y2YweWhzYXBwbGd4bmRrcHNiMCZlcD12MV9naWZzX3NlYXJjaCZjdD1n/LmNwrBhejkK9EFP504/giphy.gif" alt="Animated celebration with confetti and hearts" loading="lazy" width="320" height="320" />
    </div>
  </main>

  <script>
    const content = {
      en: {
        title: [
          'Will you be my Valentine?',
          'Are you suuure you want to say no?',
          'Maybe reconsider? I made this just for you ðŸ’Œ',
          'Last chance before the No button escapes ðŸ‘€',
          'Okay okay... but what if the answer is YES?',
          'Nope button unlocked stealth mode ðŸ«¥',
          'Plot twist: every No makes Yes stronger ðŸ’¥',
          'The Yes button is learning giant mode ðŸª„',
          'Mission update: No button activated evasive maneuvers ðŸ›¸',
          'Valentine physics says Yes must become enormous ðŸŒŸ'
        ],
        subtitle: 'One tiny click can unlock unlimited cute moments.',
        yesSubtitle: 'I knew you were the cutest human â¤ï¸',
        yes: 'Yes ðŸ’–',
        no: 'No ðŸ™ˆ',
        noLoop: ['No ðŸ™ˆ', 'Nope ðŸš«', 'Still no? ðŸƒ', 'Catch me first ðŸ˜œ', 'No-ish ðŸ¤', 'Are you fast enough? âš¡', 'Denied? Let me dodge ðŸ’¨', 'Not today ðŸ˜…', 'No... maybe? ðŸ¤­'],
        celebrate: 'YAY! Best answer ever! âœ¨'
      },
      ar: {
        title: [
          'Ù‡Ù„ Ø³ØªÙƒÙˆÙ†/ÙŠÙ† Ø­Ø¨ÙŠØ¨/ØªÙŠ ÙÙŠ Ø¹ÙŠØ¯ Ø§Ù„Ø­Ø¨ØŸ',
          'Ù…ØªØ£ÙƒØ¯/Ø© Ù…Ù† ÙƒÙ„Ù…Ø© Ù„Ø§ØŸ',
          'ÙÙƒØ±/ÙŠ Ù…Ø±Ø© Ø«Ø§Ù†ÙŠØ©... ØµÙ…Ù…Øª Ù‡Ø°Ø§ Ø®ØµÙŠØµÙ‹Ø§ Ù„Ùƒ ðŸ’Œ',
          'Ø¢Ø®Ø± ÙØ±ØµØ© Ù‚Ø¨Ù„ Ù…Ø§ Ø²Ø± "Ù„Ø§" ÙŠÙ‡Ø±Ø¨ ðŸ‘€',
          'Ø·ÙŠØ¨... Ù…Ø§Ø°Ø§ Ù„Ùˆ ÙƒØ§Ù†Øª Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© "Ù†Ø¹Ù…"ØŸ',
          'Ø²Ø± Ù„Ø§ Ø¯Ø®Ù„ ÙˆØ¶Ø¹ Ø§Ù„ØªØ®ÙÙŠ ðŸ«¥',
          'ÙƒÙ„ "Ù„Ø§" ØªÙ‚ÙˆÙŠ Ø²Ø± "Ù†Ø¹Ù…" Ø£ÙƒØ«Ø± ðŸ’¥',
          'Ø²Ø± Ù†Ø¹Ù… Ø¨Ø¯Ø£ ÙŠÙƒØ¨Ø± Ø¨Ø´ÙƒÙ„ Ù…Ø®ÙŠÙ (ÙˆÙ„Ø·ÙŠÙ) ðŸª„',
          'ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ù‡Ù…Ø©: Ø²Ø± Ù„Ø§ ÙØ¹Ù„ ÙˆØ¶Ø¹ Ø§Ù„Ù…Ø±Ø§ÙˆØºØ© ðŸ›¸',
          'Ù‚ÙˆØ§Ù†ÙŠÙ† Ø¹ÙŠØ¯ Ø§Ù„Ø­Ø¨ ØªÙ‚ÙˆÙ„: Ù†Ø¹Ù… Ù„Ø§Ø²Ù… ÙŠØµÙŠØ± Ø¹Ù…Ù„Ø§Ù‚ ðŸŒŸ'
        ],
        subtitle: 'Ø¶ØºØ·Ø© Ø¨Ø³ÙŠØ·Ø© ØªÙØªØ­ Ù„Ø­Ø¸Ø§Øª Ù„Ø·ÙŠÙØ© Ø¨Ù„Ø§ Ù†Ù‡Ø§ÙŠØ©.',
        yesSubtitle: 'Ø¹Ø±ÙØª Ø£Ù†Ùƒ/Ø£Ù†ÙƒÙ Ø£Ù„Ø·Ù Ø´Ø®Øµ â¤ï¸',
        yes: 'Ù†Ø¹Ù… ðŸ’–',
        no: 'Ù„Ø§ ðŸ™ˆ',
        noLoop: ['Ù„Ø§ ðŸ™ˆ', 'Ù„Ø£ ðŸš«', 'Ù„Ø³Ù‡ Ù„Ø§ØŸ ðŸƒ', 'Ø§Ù…Ø³ÙƒÙ†ÙŠ Ø£ÙˆÙ„Ù‹Ø§ ðŸ˜œ', 'Ù…Ø´ Ù…ØªØ£ÙƒØ¯ ðŸ¤', 'Ø³Ø±Ø¹ØªÙƒ ÙƒÙØ§ÙŠØ©ØŸ âš¡', 'Ù…Ø±ÙÙˆØ¶ØŸ Ø®Ù„ÙŠÙ†ÙŠ Ø£ØªÙ‡Ø±Ø¨ ðŸ’¨', 'Ù…Ùˆ Ø§Ù„ÙŠÙˆÙ… ðŸ˜…', 'Ù„Ø§... ÙŠÙ…ÙƒÙ†ØŸ ðŸ¤­'],
        celebrate: 'ÙŠØ§Ø§Ø§ÙŠ! Ø£Ø­Ù„Ù‰ Ø¥Ø¬Ø§Ø¨Ø©! âœ¨'
      }
    };

    let lang = 'en';
    let noCount = 0;
    const prefersReducedMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const NO_JUMP_X_RANGE = 80;
    const NO_JUMP_X_OFFSET = 40;
    const NO_JUMP_Y_RANGE = 30;
    const NO_JUMP_Y_OFFSET = 15;
    const MAX_YES_SCALE = 8;
    const YES_GROWTH_RATE = 0.24;
    const LARGE_YES_TRIGGER = 3;
    const VIEWPORT_SCALE_FACTOR = 0.9;
    const GIANT_YES_Z_INDEX = 8;
    const FONT_SIZE_SHRINK_THRESHOLD = 5;
    const NORMAL_NO_FONT_SIZE = '0.92rem';
    const SHRUNK_NO_FONT_SIZE = '0.82rem';
    const MIN_NO_SCALE = 0.58;
    const INITIAL_NO_SCALE = 0.95;
    const NO_SHRINK_RATE = 0.02;

    const titleEl = document.getElementById('title');
    const subtitleEl = document.getElementById('subtitle');
    const actions = document.getElementById('actions');
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const result = document.getElementById('result');
    const resultTitle = document.getElementById('resultTitle');
    const enBtn = document.getElementById('enBtn');
    const arBtn = document.getElementById('arBtn');

    function render() {
      const t = content[lang];
      document.documentElement.lang = lang;
      document.body.dir = lang === 'ar' ? 'rtl' : 'ltr';
      titleEl.textContent = t.title[noCount % t.title.length];
      subtitleEl.textContent = t.subtitle;
      yesBtn.textContent = t.yes;
      noBtn.textContent = noCount === 0 ? t.no : t.noLoop[(noCount - 1) % t.noLoop.length];
      resultTitle.textContent = t.celebrate;
      enBtn.classList.toggle('active', lang === 'en');
      arBtn.classList.toggle('active', lang === 'ar');
    }

    function trickNoButton() {
      noCount += 1;
      render();
      const actionsRect = actions.getBoundingClientRect();
      const maxLeft = Math.max(actionsRect.width - noBtn.offsetWidth, 0);
      const maxTop = Math.max(actionsRect.height - noBtn.offsetHeight, 0);
      const jumpX = Math.floor(Math.random() * NO_JUMP_X_RANGE) - NO_JUMP_X_OFFSET;
      const jumpY = Math.floor(Math.random() * NO_JUMP_Y_RANGE) - NO_JUMP_Y_OFFSET;
      const yesWidth = Math.max(yesBtn.offsetWidth, 1);
      const yesHeight = Math.max(yesBtn.offsetHeight, 1);
      const maxViewportScale = Math.max(1, Math.min((window.innerWidth * VIEWPORT_SCALE_FACTOR) / yesWidth, (window.innerHeight * VIEWPORT_SCALE_FACTOR) / yesHeight));
      const growYes = Math.min(MAX_YES_SCALE, maxViewportScale, 1 + noCount * YES_GROWTH_RATE);
      const spin = Math.floor(Math.random() * 120) - 60;

      noBtn.style.position = 'absolute';
      noBtn.style.left = `${Math.random() * maxLeft}px`;
      noBtn.style.top = `${Math.random() * maxTop}px`;
      noBtn.style.fontSize = noCount > FONT_SIZE_SHRINK_THRESHOLD ? SHRUNK_NO_FONT_SIZE : NORMAL_NO_FONT_SIZE;
      noBtn.style.transform = prefersReducedMotion ? 'none' : `translate(${jumpX}px, ${jumpY}px) rotate(${spin}deg) scale(${Math.max(MIN_NO_SCALE, INITIAL_NO_SCALE - noCount * NO_SHRINK_RATE)})`;
      if (noCount >= LARGE_YES_TRIGGER) {
        yesBtn.style.position = 'fixed';
        yesBtn.style.left = '50%';
        yesBtn.style.top = '50%';
        yesBtn.style.zIndex = GIANT_YES_Z_INDEX;
        yesBtn.style.transform = prefersReducedMotion ? 'translate(-50%, -50%)' : `translate(-50%, -50%) scale(${growYes})`;
      } else {
        yesBtn.style.position = '';
        yesBtn.style.left = '';
        yesBtn.style.top = '';
        yesBtn.style.zIndex = '';
        yesBtn.style.transform = prefersReducedMotion ? 'none' : `scale(${growYes})`;
      }
    }

    yesBtn.addEventListener('click', () => {
      result.style.display = 'block';
      yesBtn.style.transform = prefersReducedMotion ? 'none' : 'scale(1.06)';
      noBtn.style.display = 'none';
      subtitleEl.textContent = content[lang].yesSubtitle;
    });

    const evadeNoButton = () => {
      trickNoButton();
    };
    noBtn.addEventListener('mouseenter', evadeNoButton);
    noBtn.addEventListener('focus', evadeNoButton);

    noBtn.addEventListener('click', trickNoButton);

    enBtn.addEventListener('click', () => { lang = 'en'; render(); });
    arBtn.addEventListener('click', () => { lang = 'ar'; render(); });

    render();
  </script>
</body>
</html>
